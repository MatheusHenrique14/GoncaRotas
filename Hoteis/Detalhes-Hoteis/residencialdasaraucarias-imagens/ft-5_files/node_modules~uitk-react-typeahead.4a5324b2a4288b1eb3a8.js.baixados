(self.webpackChunkblossom_flex_ui=self.webpackChunkblossom_flex_ui||[]).push([[3074],{78474:function(){},42382:function(e,t,n){n.d(t,{n:function(){return l},r:function(){return a}});var a,i,s=n(70655),o=n(23105),r=n(29567);!function(e){e.HOTEL="HOTEL",e.AIRPORT="AIRPORT",e.MULTICITY="MULTICITY",e.POI="POI",e.METROCODE="METROCODE",e.METROSTATION="METROSTATION",e.TRAINSTATION="TRAINSTATION",e.ADDRESS="ADDRESS",e.NEIGHBORHOOD="NEIGHBORHOOD",e.CURRENT_LOCATION="CURRENT_LOCATION"}(a||(a={})),function(e){e.GOOGLE="google",e.CONSISTENT_DISPLAY="consistent_display"}(i||(i={}));var l=function(){function e(e){this.viewSize=0,this.isGeoLocationAllowed=!0,this.config=e,this.config.getDevice=this.getDevice,e.essLogger&&this.initLoggers(e.essLogger)}return e.prototype.setTypeaheadCategories=function(){var e=this.l10n.formatText;this.ESSCategories={ADDRESS:e("typeahead.ess.address"),AIRPORT:e("typeahead.ess.airport"),ATTRACTION:e("typeahead.ess.attraction"),CITY:e("typeahead.ess.city"),HOTEL:e("typeahead.ess.hotel"),METROCODE:e("typeahead.ess.city"),METROSTATION:e("typeahead.ess.metroStation"),MULTICITY:e("typeahead.ess.city"),MULTIREGION:e("typeahead.ess.city"),NEIGHBORHOOD:e("typeahead.ess.city"),POI:e("typeahead.ess.attraction"),TRAINSTATION:e("typeahead.ess.trainStation")}},e.prototype.isHistoryDetailEnabled=function(){return!0===this.config.historyDetail},e.prototype.getTypeaheadCategories=function(){return this.ESSCategories},e.prototype.addToESSCategories=function(e){this.ESSCategories=(0,s.__assign)((0,s.__assign)({},this.ESSCategories),e)},e.prototype.setL10n=function(e){this.l10n=e},e.prototype.initLoggers=function(e){var t=(0,s.__assign)({},this.config);delete t.essLogger,e.initLogger(t)},e.prototype.constructURL=function(e,t){var n=this,a=this.config.domain?this.config.domain:"";(a=a.endsWith("/")?a:"".concat(a,"/")).endsWith("/")&&(a=a.slice(0,-1));var i="AIRLINE"===n.config.domainId?"".concat(a,"/api/v2/suggest"):"".concat(a,"/api/v4/typeahead"),o=function(e){return Object.entries(e).map((function(e){var t=e[0],n=e[1];return"".concat(t,"=").concat(encodeURIComponent(n))})).join("&")};if(void 0!==this.config.browser&&null!==this.config.browser||(this.config.browser=this.getBrowser(window.navigator.userAgent)),void 0!==this.config.device&&null!==this.config.device||(this.config.device=this.getDevice(window.navigator.userAgent)),"AIRLINE"===this.config.domainId){var r={domainId:this.config.domainId,lob:this.config.lob,maxResults:this.config.maxResults,siteid:this.config.siteId,locale:this.config.locale};return"".concat(i,"?query=").concat(e,"&").concat(o(r))}var l=(0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)({browser:this.config.browser,client:this.config.client,dest:this.config.dest,device:this.config.device,expuserid:this.config.expuserid?this.config.expuserid:-1,features:this.config.features,format:"json",guid:this.config.guid,listing:!!this.config.listing,lob:this.config.lob,locale:this.config.locale,maxresults:this.config.maxResults,personalize:!!this.config.personalize&&this.config.personalize},this.config.regionId?{rid:this.config.regionId}:{}),{regiontype:this.config.regionType,siteid:this.config.siteId}),this.config.packageType?{pt:this.config.packageType}:{}),this.config.latLong?{latlong:this.config.latLong}:{}),this.config.lastSearchRegionId?{lsrid:this.config.lastSearchRegionId}:{}),this.config.lastSearchTimestamp?{lstime:this.config.lastSearchTimestamp}:{}),this.config.lastSearchLatLong?{lslatlong:this.config.lastSearchLatLong}:{}),this.config.lastSearchElapseTime?{lsetime:this.config.lastSearchElapseTime}:{}),this.config.googleApiKey?{googleApiKey:this.config.googleApiKey}:{}),this.config.alternate&&t?{alternate:!0}:{}),this.config.debounceVariant?{ab:this.config.debounceVariant}:{}),this.config.trending?{trending:this.config.trending}:{}),this.config.alternateSecondVariant?{alternateSecondVariant:this.config.alternateSecondVariant}:{}),this.config.drivable?{drivable:this.config.drivable}:{}),this.config.fetchLocation?{fetchLocation:this.config.fetchLocation}:{});return""===e?"".concat(i,"/?").concat(o(l)):"".concat(i,"/").concat(e,"?").concat(o(l))},e.prototype.fetchResponse=function(e,t){var n=this,a=this.config&&this.config.personalize;return""===e&&a||""!==e?(this.config.essLogger&&this.config.essLogger.logTypeaheadRequest(e),fetch(this.constructURL(e,t),{method:"AIRLINE"===this.config.domainId?"POST":"GET"}).then((function(e){return n.config.essLogger&&n.config.essLogger.logResponse(e),e.json()}))):Promise.resolve([])},e.prototype.fetchResults=function(e,t){var n=this;this.config.essLogger&&this.config.essLogger.initLogger(this.config);var a=t?"":e;return this.fetchResponse(a,t).then((function(e){return n.handleEssResponse(e)})).then((function(e){return n.logResponse(e)})).then((function(e){return n.adaptResponseToTypeaheadResults(e,a,n.config.historyDetail)})).then((function(e){return n.categorizeOnFocusResponse(e,t)}))},e.prototype.fetchRecentSearchResults=function(){return this.fetchResults("")},e.prototype.fetchAlternativeResults=function(e){return this.fetchResults(e,this.config.alternate)},e.prototype.fetchResultsCategorized=function(e){var t=this;return this.config.essLogger&&this.config.essLogger.initLogger(this.config),this.fetchResponse(e).then((function(e){return t.handleEssResponse(e)})).then((function(e){return t.logResponse(e)})).then((function(n){return t.adaptResponseToTypeaheadResults(n,e,t.config.historyDetail)})).then((function(e){return t.categorizeResponse(e)}))},e.prototype.fetchRecentSearchResultsCategorized=function(){return this.fetchResultsCategorized("")},e.prototype.categorizeResponse=function(e){var t=this,n=new Map,a=[],i=0;if(e&&e.length>0){e.forEach((function(e){var a,i=(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.type)?t.ESSCategories[e.data.type]:"";n[i]||(n[i]=[]),n[i].push(e)}));for(var s=0,o=Object.entries(n);s<o.length;s++){var r=o[s],l=r[0],c=r[1];c.forEach((function(e){e.data.index=i,i++}));var u={heading:l,typeaheadResults:c};a.push(u)}}return a},e.prototype.onFocusCategories=function(){var e=this.l10n.formatText;return(0,s.__assign)({CURRENTLOCATION:"",POPULAR:e("typeahead.ess.popular")||"Explore popular destinations",DRIVABLE:e("typeahead.ess.nearby")||"Nearby locations"},this.config.alternateSecondVariant?{USERHISTORY:e("typeahead.ess.history")||"Recent searches",ALTERNATE:e("typeahead.ess.alternate")||"People also searched"}:{ALTERNATE:e("typeahead.ess.alternate")||"People also searched",USERHISTORY:e("typeahead.ess.history")||"Recent searches"})},e.prototype.categorizeOnFocusResponse=function(e,t){if(e&&e.length>0){var n=e[0];if("ALTERNATE"===n.data.category||"CURRENTLOCATION"===n.data.category||"POPULAR"===n.data.category||"DRIVABLE"===n.data.category&&this.config.drivable||"USERHISTORY"===n.data.category&&this.config.alternate&&t){var a=new Map,i=[],s=this.onFocusCategories(),o=0;e.forEach((function(e){if(e.data.category){var t=e.data.category;a[t]||(a[t]=[]),a[t].push(e)}}));for(var r=0,l=Object.entries(s);r<l.length;r++){var c=l[r],u=c[0],d=c[1],h=a[u];if(h&&h.length>0){h.forEach((function(e){e.data.index=o,e.data.displayType="CATEGORIZED",o+=1}));var p={heading:d,typeaheadResults:h};i.push(p)}}return(t||this.config.showCurrentLocation)&&(this.response.sr=i.flatMap((function(e){return e.typeaheadResults.map((function(e){return e.data}))})),this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(this.response)),i}}return e},e.prototype.logSuggestionShown=function(e){this.config.essLogger&&this.config.essLogger.logSuggestionShown(e)},e.prototype.onItemSelection=function(e){var t;return null===(t=this.config.essLogger)||void 0===t||t.logSuggestionSelected(e),(null==e?void 0:e.type)===a.CURRENT_LOCATION?this.handleCurrentLocationSelection(e):this.config.fetchLocation&&(null==e?void 0:e.type)===a.ADDRESS&&e.category===r.sf&&e.sourceId&&"function"==typeof this.thirdPartyFallbackAdapter.fetchLocation?this.fillLocation(this.thirdPartyFallbackAdapter.fetchLocation.bind(this.thirdPartyFallbackAdapter),e.sourceId,e):Promise.resolve(e)},e.prototype.handleCurrentLocationSelection=function(e){var t=this;if(this.isGeoLocationAllowed)return this.readCurrentLocation().then((function(t){var n=t.coords,a=n.latitude,i=n.longitude;return(0,s.__assign)((0,s.__assign)({},e),{location:{lat:a.toFixed(5),long:i.toFixed(5)}})})).catch((function(e){throw t.isGeoLocationAllowed=!1,e}));var n=this.l10n.formatText("typeahead.currentLocation.blocked.message");return window.alert(n),Promise.reject(n)},e.prototype.fillLocation=function(e,t,n){return e(t).then((function(e){if(e){var t=e.lat,a=e.lng;return(0,s.__assign)({location:{lat:t,long:a}},n)}return n}))},e.prototype.readCurrentLocation=function(){return new Promise((function(e,t){window.navigator.geolocation.getCurrentPosition(e,t)}))},e.prototype.typeaheadDialogOpened=function(e){if(this.config.essLogger){var t=e&&""!==e?e:void 0;this.config.essLogger.logTypeaheadOpen(t)}},e.prototype.logTypeaheadDismiss=function(){this.config.essLogger&&this.config.essLogger.logTypeaheadBlurEvent()},e.prototype.handleEssResponse=function(e){return e.sr=e.sr||e.suggestions||[],this.thirdPartyFallbackAdapter||this.setThirdPartyAdapter(),!this.thirdPartyFallbackAdapter||"GOOGLE_AUTOCOMPLETE"!==e.rc&&"ADDRESS_AUTOCOMPLETE"!==e.rc?Promise.resolve(e):this.thirdPartyFallbackAdapter.fetchResults(e)},e.prototype.setThirdPartyAdapter=function(){var e,t=o.M.filterThirdPartyAdapterFromEssConfig(this.config.features.split("|"));t.length>0&&(e=o.M.getInstance(t[0],this.config.locale,this.config.googleApiKey),this.thirdPartyFallbackAdapter=e)},e.prototype.logResponse=function(e){return this.config.essLogger&&this.config.essLogger.logTypeaheadResponse(e),this.response=e,Promise.resolve(e)},e.prototype.adaptResponseToTypeaheadResults=function(e,t,n){var a,o,r=this,l=function(e,t,n,a){return a?e("typeahead.recentHistory.travelers",n):e("typeahead.recentHistory.roomsTravelers",t,n)},c=function(e){return"LISTING"===(null==e?void 0:e.type)&&e.listingProps?e.listingProps.headline:void 0},u=function(e){return"LISTING"===(null==e?void 0:e.type)&&e.listingProps?"".concat(e.listingProps.listingId," - ").concat(e.listingProps.baseLocation):void 0},d=function(e){var a,s,o,d,h,p=function(e,a){var i;if("USERHISTORY"===e&&n&&void 0!==r.l10n&&a&&a.searchDetail&&a.searchDetail.lob&&!t){var s="",o=a.searchDetail,c=r.l10n,u=c.formatDateString,d=c.formatText,h=o.roomCount,p=o.lob,g=a.searchDetail.totalTravelerCount?Number(a.searchDetail.totalTravelerCount):null;if(a.searchDetail.startDate&&a.searchDetail.endDate){var f=new Date(o.startDate),m=6e4*f.getTimezoneOffset(),y=u(new Date(f.getTime()+m),{skeleton:"MMMd"}),v=new Date(o.endDate),T=6e4*v.getTimezoneOffset(),R=u(new Date(v.getTime()+T),{skeleton:"MMMd"}),C=d("datePicker.nightSummary",(Number(o.endDate)-Number(o.startDate))/864e5);i="".concat(y," - ").concat(R),1!==h||"Lodging"!==p&&"Package"!==p?"Lodging"!==p&&"Package"!==p||(i="".concat(y," - ").concat(R," | ").concat(C)):(s=l(d,h,g,r.config.excludeRoomsLabelForRecentHistory),i="".concat(y," - ").concat(R," | ").concat(C," | ").concat(s))}else a.searchDetail.startDate||a.searchDetail.endDate||1!==h||"Lodging"!==p&&"Package"!==p||(i=l(d,h,g,r.config.excludeRoomsLabelForRecentHistory))}return i}(e.category,e)||u(e);if(r.config.features.indexOf(i.CONSISTENT_DISPLAY)<0)return{primaryText:(null===(a=e.regionNames)||void 0===a?void 0:a.displayName)||(null===(s=e.names)||void 0===s?void 0:s.displayName)||c(e),subtext:p};var g=(null===(o=e.regionNames)||void 0===o?void 0:o.primaryDisplayName)||(null===(d=e.names)||void 0===d?void 0:d.displayName)||c(e);if(p)return{primaryText:"<strong>".concat(g,"</strong>"),subtext:p};var f=(null===(h=e.regionNames)||void 0===h?void 0:h.secondaryDisplayName)||u(e)||"";return{primaryText:"<strong>".concat(g,"</strong>"),subtext:f}},h=function(e,t,n,a,i){if("AIRLINE"===e)return"";if(n&&!a)return"subdirectory_arrow_right";if("USERHISTORY"===i)return"history";if("FLIGHTS"===r.config.lob)return"lob_flights";switch(e){case"HOTEL":return"lob_hotels";case"AIRPORT":return"lob_flights";case"ADDRESS":return"RENTALLOCATION"===t?"lob_cars":"place";case"METROSTATION":case"TRAINSTATION":return"train";default:return"place"}},p=function(e,n,a){var i,o,l,c,u,p,g,f,m,y,v,T=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("nearby")>-1,R=n.hierarchyInfo&&n.hierarchyInfo.relation&&n.hierarchyInfo.relation.indexOf("child")>-1||T,C=d(n),I=C.primaryText,S=C.subtext,b=(0,s.__assign)((0,s.__assign)({data:(0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)({},n.category?{category:n.category}:{}),!t&&n.searchDetail?{searchDetail:n.searchDetail}:{}),n.userHistoryType?{userHistoryType:n.userHistoryType}:{}),(null===(i=n.ids)||void 0===i?void 0:i.id)?{id:n.ids.id}:{}),n.coordinates?{location:{lat:n.coordinates.lat,long:n.coordinates.long}}:{}),n.regionId?{regionId:n.regionId}:n.gaiaId?{regionId:n.gaiaId}:{}),n.cityId?{cityId:n.cityId}:{}),n.regionNames?{regionNames:n.regionNames}:{}),n.type?{type:n.type}:{}),n.subtype?{subtype:n.subtype}:{}),n.hotelId?{selected:n.hotelId}:{}),n.hierarchyInfo?{hierarchyInfo:n.hierarchyInfo}:{}),"LISTING"===n.type&&n.listingProps?{listing:n.listingProps}:{}),n.sourceId?{sourceId:n.sourceId}:{}),n.essId?{essId:{sourceId:n.essId.sourceId,sourceName:n.essId.sourceName}}:{}),{dest:r.config.dest}),{index:a+1}),icon:h(n.type||n.domainId,n.subtype,R,T,n.category)},R?{isChild:!0}:{}),{name:I,subtext:S,title:(null===(o=n.regionNames)||void 0===o?void 0:o.lastSearchName)||(null===(l=n.regionNames)||void 0===l?void 0:l.shortName)||(null===(c=n.regionNames)||void 0===c?void 0:c.fullName)||(null===(u=n.listingProps)||void 0===u?void 0:u.listingId)||(null===(p=n.ids)||void 0===p?void 0:p.id),value:(null===(g=n.regionNames)||void 0===g?void 0:g.lastSearchName)||(null===(f=n.regionNames)||void 0===f?void 0:f.shortName)||(null===(m=n.regionNames)||void 0===m?void 0:m.fullName)||(null===(y=n.listingProps)||void 0===y?void 0:y.listingId)||(null===(v=n.names)||void 0===v?void 0:v.displayName)});return e.push(b),e},g=""===t&&this.shouldShowCurrentLocation()?[this.getCurrentLocationItem()]:[];return(null===(o=null===(a=e.sr)||void 0===a?void 0:a.reduce)||void 0===o?void 0:o.call(a,p,g))||g},e.prototype.shouldShowCurrentLocation=function(){return Boolean(this.config.showCurrentLocation&&"geolocation"in navigator)},e.prototype.getCurrentLocationItem=function(){var e=this.isGeoLocationAllowed?this.l10n.formatText("typeahead.currentLocation.available.item"):this.l10n.formatText("typeahead.currentLocation.blocked.item");return{data:{category:"CURRENTLOCATION",hierarchyInfo:{relation:["current"]},index:-1,enabled:this.isGeoLocationAllowed,regionNames:{fullName:"CurrentLocation"},type:a.CURRENT_LOCATION},icon:"my_location",name:e,title:e,value:e}},e.prototype.getBrowser=function(e){var t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE":"Chrome"===n[1]&&null!==(t=e.match(/\b(OPR|Edge?)\/(\d+)/))?t.slice(1,-1).join(" ").replace("OPR","Opera").replace("Edg ","Edge "):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n[0])},e.prototype.getDevice=function(e){return/iPad|Transformer|ME173X|KOOF|Nook|IMM76D|Nexus 10|Nexus 7|Tablet/i.test(e)||/HP Slate|PG09410|PG41200|Mediapad|Kindle|Tab|Xoom|TegraNote|SCH-I800/i.test(e)?"Tablet":/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)?"Mobile":"Desktop"},e}()},29567:function(e,t,n){n.d(t,{$K:function(){return a},cr:function(){return l},sf:function(){return r}});var a,i=n(70655),s=n(37093),o=n(72195),r="GOOGLEMAPS";!function(e){e.INVALID_REQUEST="INVALID_REQUEST",e.OK="OK",e.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",e.REQUEST_DENIED="REQUEST_DENIED",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.ZERO_RESULTS="ZERO_RESULTS"}(a||(a={}));var l=function(e){function t(t,n){var a=e.call(this,t)||this;return a.url="//maps.googleapis.com/maps/api/js?client=gme-expedia&channel=ess&libraries=places&language=".concat(t,"&key=").concat(n),a.category=r,a.sourceName="GPA",a.type="ADDRESS",s.ScriptLoader.getScript(a.url).then((function(){a.google=window.google,a.initGooglePlacesService()})).catch((function(e){console.error(e)})),a}return(0,i.__extends)(t,e),t.getInstance=function(e,n){var a=e||"en_US",i=n||"AIzaSyABOFQNLMiTVN0AG3eWNmspVfVC8gNda68";return a in this.instances||(this.instances[a]=new t(a,i)),this.instances[a]},t.prototype.initGooglePlacesService=function(){if(this.google&&this.google.maps&&this.google.maps.places){var e=this.google.maps.places,t=e.AutocompleteService,n=e.PlacesService;this.googleAutoCompleteService=new t,this.placesService=new n(document.createElement("div"))}},t.prototype.fetchResults=function(e){var t=this,n={input:e.q,type:"ADDRESS_AUTOCOMPLETE"===e.rc?["geocode"]:void 0};return new Promise((function(i){t.googleAutoCompleteService?t.googleAutoCompleteService.getPlacePredictions(n,(function(n,s){if(s===a.OK){var o=(r=t.handleResponse(n),{q:e.q,rc:e.rc,rid:e.rid,sr:r});i(o)}else i(e);var r})):i(e)}))},t.prototype.fetchLocation=function(e){var t=this;return new Promise((function(n,i){try{var s={placeId:e,fields:["geometry"]};t.placesService.getDetails(s,(function(t,s){var o;if(s===a.OK){var r=null===(o=null==t?void 0:t.geometry)||void 0===o?void 0:o.location;n(r?{lat:r.lat().toFixed(5),lng:r.lng().toFixed(5)}:void 0)}else s===a.ZERO_RESULTS?n(void 0):i(new Error("Failed to fetch location for placeId ".concat(e,": ").concat(s)))}))}catch(o){i(new Error("Failed to fetch location for placeId ".concat(e,": ").concat(o.message)))}}))},t.prototype.handleResponse=function(e){var t=this,n=[];return e.forEach((function(e,a){n.push(t.toEssResult(e.description,e.place_id,a))})),n},t.instances={},t}(o.l)},2974:function(e,t,n){n.d(t,{u:function(){return r}});var a=n(70655),i=n(72195),s=n(61049),o="pk.eyJ1IjoiZXhwZWRpYS1nZW8iLCJhIjoiY2w1anp3aXpuMDU3YTNibHY0Y21jazNteSJ9.fdrMME0LN_m9OEW_5v3sqA",r=function(e){function t(t,n){var a,i=e.call(this,t)||this;return a=t.split("_"),i.language=a[0],i.locale=a[1],i.category="MAPBOX",i.sourceName="mapbox",i.type="address",i.apiKey=n||o,i}return(0,a.__extends)(t,e),t.getInstance=function(e,n){var a=e||"en_US",i=n||o;return a in this.instances||(this.instances[a]=new t(a,i)),this.instances[a]},t.prototype.getGeocodingUrl=function(e,t){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e,".json?");return(0,s.T)(n,t)},t.prototype.fetchFromMapbox=function(e){var t=this.getGeocodingUrl(e,{autocomplete:!0,language:this.language,types:this.type,fuzzyMatch:!0,access_token:this.apiKey});return fetch(t).then((function(e){return e.json()}))},t.prototype.fetchResults=function(e){var t=this;return new Promise((function(n){t.fetchFromMapbox(e.q).then((function(e){return void 0===(null==e?void 0:e.features)?[]:e.features})).then((function(a){return 0===a.length?n(e):n((i=t.handleResponse(a),{q:e.q,rc:e.rc,rid:e.rid,sr:i}));var i})).catch((function(){n(e)}))}))},t.prototype.handleResponse=function(e){var t=this,n=[];return e.forEach((function(e,a){var i=e.id.split(".")[1];n.push(t.toEssResult(e.place_name,i,a))})),n},t.instances={},t}(i.l)},23105:function(e,t,n){n.d(t,{M:function(){return o}});var a=n(29567),i=n(2974),s={google:a.cr,mapbox:i.u},o=function(){function e(){}return e.getInstance=function(e,t,n){return s[e].getInstance(t,n)},e.filterThirdPartyAdapterFromEssConfig=function(e){return e.filter((function(e){return e in s}))},e}()},72195:function(e,t,n){n.d(t,{l:function(){return a}});var a=function(){function e(e){this.locale=e}return e.prototype.toEssResult=function(e,t,n){var a=e,i="",s="",o=(a||"").split(",");return o.length<2?i=o[0].trim():(i=o[0],s=o.slice(1).map((function(e){return e.trim()})).join(", ").trim()),{category:this.category,coordinates:void 0,index:n,regionNames:{displayName:a,fullName:e,lastSearchName:e,primaryDisplayName:i,secondaryDisplayName:s},sourceId:t,sourceName:this.sourceName,type:this.type}},e}()},28868:function(e,t,n){n.d(t,{M3:function(){return s},OS:function(){return o},od:function(){return i}});var a=n(70655),i=function(e){switch(e.type){case"categorized":return e.items.reduce((function(e,t){return e+t.typeaheadResults.length}),0);case"uncategorized":return e.items.length}},s=function(e,t){switch(e.type){case"categorized":return(0,a.__assign)((0,a.__assign)({},e),{items:e.items.map((function(e){return(0,a.__assign)((0,a.__assign)({},e),{typeaheadResults:e.typeaheadResults.filter((function(e){return!t.includes(e.value)}))})}))});case"uncategorized":return(0,a.__assign)((0,a.__assign)({},e),{items:e.items.filter((function(e){return!t.includes(e.value)}))})}},o=function(e,t){switch(e.type){case"categorized":return e.items.reduce((function(e,t){return e.push.apply(e,t.typeaheadResults),e}),[])[t];case"uncategorized":return e.items[t]}}},61049:function(e,t,n){n.d(t,{$:function(){return a},T:function(){return i}});var a=function(e,t,n){if(""===n||null===n)return e;var a=/\?/.test(e)?"&":"?",i=encodeURIComponent(t);return void 0!==n&&""!==n&&(i=i.concat("=",encodeURIComponent(n))),e+a+i},i=function(e,t){if(null==t)return e;var n=e;return Object.keys(t).forEach((function(e){var i=t[e];void 0!==i&&(n=a(n,e,i))})),n}},15865:function(e,t,n){n.r(t),n.d(t,{ESSAdapter:function(){return a.n},GOOGLEMAPS_CATEGORY:function(){return o.sf},GoogleAdapter:function(){return o.cr},MapboxAdapter:function(){return r.u},PlacesServiceStatus:function(){return o.$K},ThirdPartyAdapter:function(){return s.l},ThirdPartyAdapterFactory:function(){return i.M},TypeaheadLocationType:function(){return a.r},TypeaheadMenu:function(){return g.k},TypeaheadRenderType:function(){return u.A},UitkTypeahead:function(){return u.c},UitkTypeaheadAttribution:function(){return d.W},UitkTypeaheadDialog:function(){return h.w},UitkTypeaheadInput:function(){return p.p},UitkTypeaheadMenu:function(){return g.j},UitkTypeaheadResultItem:function(){return m.v},UitkTypeaheadResults:function(){return f.Z},appendQueryObject:function(){return c.T},appendQueryParam:function(){return c.$},filterTypeaheadResults:function(){return l.M3},getSizeOfTypeaheadResults:function(){return l.od},selectTypeaheadResultIndex:function(){return l.OS}});var a=n(42382),i=n(23105),s=n(72195),o=n(29567),r=n(2974),l=n(28868),c=n(61049),u=n(87220),d=n(45745),h=n(6239),p=n(36463),g=n(67252),f=n(11119),m=n(57828)},45745:function(e,t,n){n.d(t,{W:function(){return c}});var a=n(67294),i=n(37093),s=n(29567),o=n(78474),r=n.n(o),l=i.classNames.bind(r()),c=function(e){var t,n=e.results,i=function(e){var t;return e?null===(t=e.data)||void 0===t?void 0:t.category:""},o=function(e){return e.find((function(e){return e.data&&e.data.category}))},r=function(e){return e.some((function(e){var n="category";return e.data&&e.data[n]&&e.data[n]===t}))};if(!function(e){switch(e.type){case"categorized":return t=function(e){var t=e.find((function(e){return o(e.typeaheadResults)}));return void 0!==t&&t.typeaheadResults?i(t.typeaheadResults[0]):""}(e.items),function(e){return e.some((function(e){return r(e.typeaheadResults)}))}(e.items);case"uncategorized":return t=function(e){return i(o(e))}(e.items),function(e){return r(e)}(e.items)}}(n))return null;switch(t){case s.sf:return a.createElement("div",{className:l("uitk-typeahead-google-logo")},a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",alt:"Powered by Google Logo"}));case"MAPBOX":return a.createElement("div",{className:l("uitk-typeahead-google-logo")},"powered by"," ",a.createElement("svg",{viewBox:"0 0 81 20",width:"81px",height:"20px"},a.createElement("path",{d:"M9.07917722,0.0888888889 C4.06575949,0.0888888889 0,4.52222222 0,9.98888889 C0,15.4555556 4.06575949,19.8888889 9.07917722,19.8888889 C14.0925949,19.8888889 18.1583544,15.4555556 18.1583544,9.98888889 C18.1583544,4.52222222 14.0925949,0.0888888889 9.07917722,0.0888888889 Z M55.7284177,2.27777778 C55.6061392,2.27777778 55.5042405,2.38888889 55.5042405,2.52222222 L55.5042405,13.9888889 C55.5042405,14.1222222 55.6061392,14.2333333 55.7284177,14.2333333 L57.0938608,14.2333333 C57.2161392,14.2333333 57.318038,14.1222222 57.318038,13.9888889 L57.318038,13.2 C58.0211392,14 58.9891772,14.4555556 59.9979747,14.4555556 C62.1276582,14.4555556 63.8599367,12.4555556 63.8599367,9.97777778 C63.8599367,7.5 62.1276582,5.51111111 59.9979747,5.51111111 C58.9789873,5.51111111 58.0109494,5.96666667 57.318038,6.76666667 L57.318038,2.52222222 C57.318038,2.38888889 57.2161392,2.27777778 57.0938608,2.27777778 L55.7284177,2.27777778 Z M10.0166456,3.93333333 C11.1782911,3.96666667 12.3501266,4.46666667 13.2468354,5.45555556 C15.050443,7.42222222 15.1115823,10.5333333 13.3894937,12.4222222 C10.2815823,15.8111111 4.74848101,14.7222222 4.74848101,14.7222222 C4.74848101,14.7222222 3.74987342,8.68888889 6.85778481,5.3 C7.72392405,4.36666667 8.86518987,3.91111111 10.0166456,3.93333333 Z M26.3510127,5.51111111 C25.515443,5.51111111 24.7308228,5.95555556 24.231519,6.68888889 L24.231519,5.97777778 C24.231519,5.84444444 24.1296203,5.73333333 24.0073418,5.73333333 L22.6418987,5.73333333 C22.5196203,5.73333333 22.4177215,5.84444444 22.4177215,5.97777778 L22.4177215,14 C22.4177215,14.1333333 22.5196203,14.2444444 22.6418987,14.2444444 L24.0073418,14.2444444 C24.1296203,14.2444444 24.231519,14.1333333 24.231519,14 L24.231519,9.2 C24.2824684,8.12222222 24.9651899,7.27777778 25.8007595,7.27777778 C26.6668987,7.27777778 27.3903797,8.06666667 27.3903797,9.11111111 L27.3903797,14 C27.3903797,14.1333333 27.4922785,14.2444444 27.614557,14.2444444 L28.9901899,14.2444444 C29.1124684,14.2444444 29.2143671,14.1333333 29.2143671,14 L29.2041772,9.01111111 C29.3264557,8.03333333 29.9786076,7.27777778 30.7632278,7.27777778 C31.6293671,7.27777778 32.3528481,8.06666667 32.3528481,9.11111111 L32.3528481,14 C32.3528481,14.1333333 32.4547468,14.2444444 32.5770253,14.2444444 L33.9526582,14.2444444 C34.0749367,14.2444444 34.1768354,14.1333333 34.1768354,14 L34.1666456,8.48888889 C34.1972152,6.84444444 32.9132911,5.51111111 31.3236709,5.51111111 C30.3046835,5.52222222 29.3672152,6.16666667 28.9290506,7.17777778 C28.419557,6.14444444 27.4311392,5.5 26.3510127,5.51111111 L26.3510127,5.51111111 Z M39.3838608,5.51111111 C37.2541772,5.51111111 35.5218987,7.51111111 35.5218987,9.98888889 C35.5218987,12.4666667 37.2541772,14.4666667 39.3838608,14.4666667 C40.4028481,14.4666667 41.3708861,14.0111111 42.0637975,13.2111111 L42.0637975,14 C42.0637975,14.1333333 42.1656962,14.2444444 42.2879747,14.2444444 L43.6534177,14.2444444 C43.7756962,14.2444444 43.8775949,14.1333333 43.8775949,14 L43.8775949,5.97777778 C43.8877848,5.84444444 43.7858861,5.73333333 43.6534177,5.73333333 L42.2879747,5.73333333 C42.1656962,5.73333333 42.0637975,5.84444444 42.0637975,5.97777778 L42.0637975,6.76666667 C41.3606962,5.96666667 40.3926582,5.51111111 39.3838608,5.51111111 Z M50.1953165,5.51111111 C49.1763291,5.51111111 48.2082911,5.96666667 47.5153797,6.76666667 L47.5153797,5.97777778 C47.5153797,5.84444444 47.413481,5.73333333 47.2912025,5.73333333 L45.9257595,5.73333333 C45.803481,5.73333333 45.7015823,5.84444444 45.7015823,5.97777778 L45.7015823,17.4444444 C45.7015823,17.5777778 45.803481,17.6888889 45.9257595,17.6888889 L47.2912025,17.6888889 C47.413481,17.6888889 47.5153797,17.5777778 47.5153797,17.4444444 L47.5153797,13.2 C48.218481,14 49.186519,14.4555556 50.1953165,14.4555556 C52.325,14.4555556 54.0572785,12.4555556 54.0572785,9.97777778 C54.0572785,7.5 52.325,5.51111111 50.1953165,5.51111111 Z M69.0975316,5.51111111 C66.7844304,5.51111111 64.9196835,7.51111111 64.9196835,9.98888889 C64.9196835,12.4666667 66.7946203,14.4666667 69.0975316,14.4666667 C71.400443,14.4666667 73.2753797,12.4666667 73.2753797,9.98888889 C73.2753797,7.51111111 71.4106329,5.51111111 69.0975316,5.51111111 Z M73.7237342,5.73333333 C73.6116456,5.73333333 73.5199367,5.83333333 73.5199367,5.95555556 C73.5199367,6 73.5301266,6.04444444 73.5505063,6.07777778 L75.8941772,9.96666667 L73.5199367,13.9 C73.4587975,14 73.4791772,14.1444444 73.5810759,14.2111111 C73.6116456,14.2333333 73.6524051,14.2444444 73.6931646,14.2444444 L75.2725949,14.2444444 C75.3948734,14.2444444 75.506962,14.1777778 75.5681013,14.0666667 L76.9743038,11.5 L78.3805063,14.0666667 C78.4416456,14.1777778 78.5537342,14.2444444 78.6760127,14.2444444 L80.255443,14.2444444 C80.3675316,14.2444444 80.4592405,14.1444444 80.4592405,14.0222222 C80.4592405,13.9777778 80.4490506,13.9444444 80.4286709,13.9 L78.0544304,9.96666667 L80.3981013,6.07777778 C80.4592405,5.97777778 80.4388608,5.83333333 80.336962,5.76666667 C80.3063924,5.74444444 80.2656329,5.73333333 80.2248734,5.73333333 L78.645443,5.73333333 C78.5231646,5.73333333 78.4110759,5.8 78.3499367,5.91111111 L76.9743038,8.43333333 L75.5986709,5.91111111 C75.5375316,5.8 75.425443,5.73333333 75.3031646,5.73333333 L73.7237342,5.73333333 Z M10.1185443,5.88888889 L9.23202532,7.88888889 L7.40803797,8.85555556 L9.23202532,9.82222222 L10.1185443,11.8222222 L11.0152532,9.82222222 L12.8392405,8.85555556 L11.0152532,7.88888889 L10.1185443,5.88888889 Z M39.6997468,7.3 C40.9938608,7.3 42.0434177,8.48888889 42.0637975,9.95555556 L42.0637975,10.0222222 C42.0536076,11.4888889 40.9938608,12.6777778 39.6997468,12.6777778 C38.395443,12.6777778 37.3356962,11.4777778 37.3356962,9.98888889 C37.3356962,8.5 38.395443,7.3 39.6997468,7.3 L39.6997468,7.3 Z M49.8692405,7.3 C51.1735443,7.3 52.2332911,8.5 52.2332911,9.98888889 C52.2332911,11.4777778 51.1735443,12.6777778 49.8692405,12.6777778 C48.5751266,12.6777778 47.5255696,11.4888889 47.5051899,10.0222222 L47.5051899,9.95555556 C47.5255696,8.48888889 48.5751266,7.3 49.8692405,7.3 L49.8692405,7.3 Z M59.6820886,7.3 C60.9863924,7.3 62.0461392,8.5 62.0461392,9.98888889 C62.0461392,11.4777778 60.9863924,12.6777778 59.6820886,12.6777778 C58.3879747,12.6777778 57.3384177,11.4888889 57.318038,10.0222222 L57.318038,9.95555556 C57.3384177,8.48888889 58.3879747,7.3 59.6820886,7.3 L59.6820886,7.3 Z M69.0771519,7.3 C70.3814557,7.3 71.4412025,8.5 71.4412025,9.98888889 C71.4412025,11.4777778 70.3814557,12.6777778 69.0771519,12.6777778 C67.7728481,12.6777778 66.7131013,11.4777778 66.7131013,9.98888889 C66.7131013,8.5 67.7728481,7.3 69.0771519,7.3 Z"})));default:return null}}},6239:function(e,t,n){n.d(t,{w:function(){return A}});var a,i=n(70655),s=n(67294),o=n(29892),r=n(3774),l=n(37093),c=n(80463),u=n(23984),d=n(91233),h=n(24499),p=n(97534),g=n(41913),f=n(34353),m=n(49349),y=n(79221),v=n(42382),T=n(28868),R=n(11119),C=n(78474),I=n.n(C),S=n(36463),b=l.classNames.bind(I());!function(e){e.UP="UP",e.DOWN="DOWN"}(a||(a={}));var E=function(e){function t(t){var n=e.call(this,t)||this;return n.dialogRef=s.createRef(),n.toolbarInputRef=s.createRef(),n.iphoneSafariUARegex=/iphone.*safari|safari.*iphone/gi,n.uid=Math.random().toString(36).substring(7),n.typeaheadDialogLiveAnnounceId="uitk-typeahead-dialog-live-announce-".concat(n.uid),n.typingTimeout=0,n.newAttr=-1,n._isMounted=!1,n.state={activeSuggestion:-1,categorizedResults:[],data:{},results:[],searchTerm:t.term,showResults:!0,startSearchTerm:t.startSearchTerm,isCurrentLocation:!1},n.announceResults=n.announceResults.bind(n),n.focusInput=n.focusInput.bind(n),n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleAnnounceResults=n.handleAnnounceResults.bind(n),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.onDismiss=n.onDismiss.bind(n),n.openDialog=n.openDialog.bind(n),n.updateResults=n.updateResults.bind(n),n.updateResultsDebounced=t.debounceRate&&t.debounceRate>0?(0,r.debounce)(t.debounceRate,n.updateResults):n.updateResults,n.updateInput=n.updateInput.bind(n),n.selectInput=n.selectInput.bind(n),n.resetActiveSuggestion=n.resetActiveSuggestion.bind(n),n.removeDialogLiveAnnounce=n.removeDialogLiveAnnounce.bind(n),n.contentRef=s.createRef(),n}return(0,i.__extends)(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentDidUpdate=function(e,n){var a=this.props.term;a!==e.term&&this.setState({searchTerm:a});var i=this.state,s=i.searchTerm,o=i.showResults;n.searchTerm!==s&&o&&(this.setState({results:t.placeholder}),this.updateResultsDebounced(s))},t.prototype.componentWillUnmount=function(){var e=this.props.adapter;e&&"function"==typeof e.logTypeaheadDismiss&&e.logTypeaheadDismiss(),this._isMounted=!1},t.prototype.handleChange=function(e){var t=this.props.onInputChange;this.setState({searchTerm:e.target.value,showResults:!0,isCurrentLocation:!1},this.focusInput),""===e.target.value&&this.resetActiveSuggestion(),t&&t(e)},t.prototype.handleResultItemSelect=function(e,t,n){var a,i=this,s=this.props,o=s.isMulti,r=s.adapter,c=s.l10n,u=s.label,d=s.onResultItemSelect,h=this.state.searchTerm;return null===(a=r.onItemSelection)||void 0===a?void 0:a.call(r,t).then((function(a){o?i.setState({activeSuggestion:-1}):i.setState({activeSuggestion:-1,searchTerm:e,showResults:!1,isCurrentLocation:(null==t?void 0:t.type)===v.r.CURRENT_LOCATION}),d(e,a);var s=n?(0,T.od)(n)-1:0;o&&(0,l.liveAnnounce)("".concat(c.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(c.formatText("typeahead.announceResults.showingResults",u,s,h)),void 0,void 0,i.contentRef,i.typeaheadDialogLiveAnnounceId),o||(setTimeout((function(){(0,l.liveAnnounce)("".concat(c.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(c.formatText("typeahead.announceResults.menuClosed")))}),100),i.onDismiss())})).catch((function(){i.updateResults(e,!0,""!==e),i.onDismiss()}))},t.prototype.handleAnnounceResults=function(e){var t=this;this.typingTimeout&&clearTimeout(this.typingTimeout),e.length>0&&(this.typingTimeout=setTimeout((function(){t.announceResults(e)}),1e3))},t.prototype.handleKeyPress=function(e){var t=this.props.value,n=(0,T.M3)(this.getResultsToShow(),Array.isArray(t)?t:[]),a=this.state,i=a.activeSuggestion,s=a.searchTerm;if("Enter"!==e.key&&38!==e.keyCode&&40!==e.keyCode||e.preventDefault(),"Enter"===e.key){var o=(0,T.OS)(n,i);o?this.handleResultItemSelect(o.value,o.data,n):this.handleResultItemSelect(s,void 0,n)}},t.prototype.handleActiveSuggestion=function(e){var t=this.state,n=t.activeSuggestion,i=t.results,s=t.searchTerm,o=this.props.allowExactMatch&&s?1:0,r=i.length+o,l=0;e===a.UP?l=-1===n?r:r-1:e===a.DOWN&&(l=r+1);var c=(n+l)%r,u=(this.newAttr+l)%r;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1},t.prototype.handleUpArrowKey=function(e){38===e.keyCode&&this.handleActiveSuggestion(a.UP)},t.prototype.handleDownArrowKey=function(e){40===e.keyCode&&this.handleActiveSuggestion(a.DOWN)},t.prototype.handleTabKey=function(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){var t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}},t.prototype.handleEscKey=function(e){27===e.keyCode&&this.onDismiss()},t.prototype.handleKeyDown=function(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)},t.prototype.handleKeyUp=function(e){this.handleTabKey(e)},t.prototype.onDismiss=function(){var e=this.props,t=e.onDismiss,n=e.isMulti,a=e.l10n;this.contentRef.current.scrollTop=0,t&&t(),this.resetActiveSuggestion(),this.setState({startSearchTerm:""}),n&&setTimeout((function(){(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.menuClosed"))}),100),this.removeDialogLiveAnnounce()},t.prototype.getResultsToShow=function(){var e=this.props.categorize,t=this.state,n=t.categorizedResults,a=t.results;return e||n&&n.length?{items:n,type:"categorized"}:{items:a,type:"uncategorized"}},t.prototype.removeDialogLiveAnnounce=function(){var e,t=document.getElementById(this.typeaheadDialogLiveAnnounceId);t&&(null===(e=t.parentNode)||void 0===e||e.removeChild(t))},t.prototype.resetActiveSuggestion=function(){this.setState({activeSuggestion:-1})},t.prototype.updateInput=function(e,t){var n=this;this.setState({searchTerm:e},(function(){n.updateResults(e,!1,!!t),setTimeout((function(){n.selectInput()}))}))},t.prototype.scrollTop=function(){navigator.userAgent.match(this.iphoneSafariUARegex)&&document.getElementsByTagName("html")[0].scrollTop>0&&document.getElementsByTagName("html")[0].scrollTo({top:0,behavior:"smooth"})},t.prototype.openDialog=function(){var e=this.state.searchTerm,t=this.props,n=t.adapter,a=t.startSearchTerm,i=t.defaultTerm;n.typeaheadDialogOpened(e),this.updateInput(e||i||a||"",""!==e),this.focusInput(),this.scrollTop()},t.prototype.selectInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.select&&e.current.select()},t.prototype.focusInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.focus&&e.current.focus()},t.prototype.announceResults=function(e){var t=this.state.searchTerm,n=this.props,a=n.l10n,i=n.label,s=n.defaultTerm,o=t&&t.split("");if(o){var r="'".concat(o.join("' , '")," '");e&&(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.resultsAvailable",r,e.length),void 0,void 0,this.contentRef,this.typeaheadDialogLiveAnnounceId)}else s&&e&&(0,l.liveAnnounce)(a.formatText("typeahead.announceResults.showingResultsDefault",i,e.length))},t.prototype.isCategorizedResult=function(e){return"object"==typeof e&&"heading"in e},t.prototype.updateResults=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var a,s,o,r,l,c,u,d,h,p,g,f,m,y,v=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return a=this.props,s=a.adapter,o=a.categorize,r=a.defaultTerm,l=this.state.isCurrentLocation,c=""===e||l?null!=r?r:"":e,this.lastSearchTerm=c,""===c||!0!==t?[3,5]:o?[4,Promise.all([s.fetchResultsCategorized(c),s.fetchRecentSearchResultsCategorized()])]:[3,2];case 1:return f=i.sent(),[3,4];case 2:return[4,Promise.all([s.fetchResults(c),s.fetchRecentSearchResults()])];case 3:f=i.sent(),i.label=4;case 4:return p=(h=f)[0],(g=h[1])&&g.length>0?o||this.isCategorizedResult(g[0])?d=g:u=g:o?d=p:u=p,[3,11];case 5:return o?[4,s.fetchResultsCategorized(c)]:[3,7];case 6:return d=i.sent(),[3,11];case 7:return""!==c&&n?[4,s.fetchAlternativeResults(c)]:[3,9];case 8:return(m=i.sent())&&m.length&&this.isCategorizedResult(m[0])?d=m:u=m,[3,11];case 9:return[4,s.fetchResults(c)];case 10:(m=i.sent())&&m.length&&this.isCategorizedResult(m[0])?d=m:u=m,i.label=11;case 11:return this.lastSearchTerm!==c||(u&&u.length&&this._isMounted?(s.logSuggestionShown(t||n?"":c,u),this.setState({results:u,categorizedResults:[]},(function(){v.handleAnnounceResults(u)}))):d&&d.length?(s.logSuggestionShown(t||n?"":c,d),y=d.reduce((function(e,t){return e.push.apply(e,t.typeaheadResults),e}),[]),this.setState({categorizedResults:d,results:y},(function(){v.handleAnnounceResults(d)}))):this._isMounted&&this.setState({results:[],categorizedResults:[]})),[2]}}))}))},t.prototype.render=function(){var e=this.props,t=e.allowExactMatch,n=e.dialog,a=e.id,i=e.listTitle,o=e.stid,r=e.placeholder,l=e.label,v=e.handleClear,T=e.emptyResultPlaceholder,C=e.isMulti,I=e.dismissButtonText,E=e.clearAllText,A=e.onClearAll,L=e.onItemRemove,D=e.selectedItemHeading,N=e.value,w=e.strictFullscreen,_=e.typeaheadInputRef,k=e.required,M=this.state,x=M.activeSuggestion,O=M.searchTerm,P=this.getResultsToShow();return s.createElement(g.U,{isVisible:n,openCallback:this.openDialog},s.createElement(f.K,{className:b("uitk-typeahead-dialog",{"uitk-typeahead-dialog-centered":!w}),isVisible:n,type:w?"full":"centered",triggerRef:_},s.createElement(u.v,{direction:"column",blockSize:"full_size"},s.createElement(d.t,null,s.createElement(y.b,{className:b("uitk-typeahead-input-wrapper"),navigationContent:{navIconLabel:"Close the dialog",onClick:this.onDismiss,navButtonId:"".concat(a,"-close")}},s.createElement(S.p,{className:b("uitk-typeahead-input-v2"),"data-stid":o&&"".concat(o,"-dialog-input"),domRef:this.toolbarInputRef,hasClearButton:O.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:o,label:l,onChange:this.handleChange,onKeyPress:this.handleKeyPress,placeholder:r,value:O,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,handleClear:v,required:k}))),s.createElement(d.t,null,s.createElement(m.z,{className:b("uitk-typeahead-dialog-content"),contentDomRef:this.contentRef,padded:!1},s.createElement(u.v,{direction:"column",blockSize:"full_size",justifyContent:"space-between"},s.createElement(d.t,null,s.createElement(R.Z,{allowExactMatch:t,typeaheadLabel:l,onResultItemSelect:this.handleResultItemSelect,results:P,searchTerm:O,stid:o,listTitle:i,activeSuggestion:x,emptyResultPlaceholder:T,isMulti:C,dismissButtonText:I,selectedItemHeading:D,clearAllText:E,onClearAll:A,onItemRemove:L,value:N,contentRef:this.contentRef,historyDetail:this.props.historyDetail})),this.props.isMulti?s.createElement(d.t,null,s.createElement(h.o,{type:p.k.BUTTON},s.createElement(c.t,{disabled:0===(null==N?void 0:N.length),onClick:this.onDismiss,isFullWidth:!0},I))):null))))))},t.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}],t}(s.Component),A=function(e){var t=(0,o.useLocalization)();return s.createElement(E,(0,i.__assign)({l10n:t},e))}},36463:function(e,t,n){n.d(t,{p:function(){return u}});var a=n(70655),i=n(67294),s=n(36326),o=n(37093),r=n(78474),l=n.n(r),c=o.classNames.bind(l()),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.placeholder,o=e.required,r=(0,a.__rest)(e,["className","placeholder","required"]),l=c("uitk-typeahead-input",t);return i.createElement(s.n,(0,a.__assign)({},r,{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",className:l,type:"text",spellCheck:!1,placeholder:n,required:o}))},t.displayName="UitkTypeaheadInput",t}(i.Component)},67252:function(e,t,n){n.d(t,{j:function(){return S},k:function(){return I}});var a,i=n(70655),s=n(67294),o=n(29892),r=n(70094),l=n(23984),c=n(91233),u=n(41913),d=n(34353),h=n(49349),p=n(3774),g=n(37093),f=n(28868),m=n(36463),y=n(11119),v=n(78474),T=n.n(v),R=g.classNames.bind(T()),C=function(e){return""===e||Array.isArray(e)&&0===e.length};!function(e){e.UP="UP",e.DOWN="DOWN"}(a||(a={}));var I=function(e){function t(t){var n=e.call(this,t)||this;n.toolbarInputRef=s.createRef(),n.keyPressed=!1,n.newAttr=-1,n.typingTimeout=0;var a=n.props,i=a.dialog,o=a.term,r=a.debounceRate;return n.state={activeSuggestion:-1,categorizedResults:[],data:{},menu:i,results:[],searchTerm:o,showResults:!0},n.handleChange=n.handleChange.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.focusInput=n.focusInput.bind(n),n.announceResults=n.announceResults.bind(n),n.onDismiss=n.onDismiss.bind(n),n.updateResults=n.updateResults.bind(n),n.updateResultsDebounced=r&&r>0?(0,p.debounce)(r,n.updateResults):n.updateResults,n.menuOpened=n.menuOpened.bind(n),n.menuClosed=n.menuClosed.bind(n),n.resetActiveSuggestion=n.resetActiveSuggestion.bind(n),n.resultsDomRef=s.createRef(),n}return(0,i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,n){var a=this.state,i=a.searchTerm,s=a.results,o=a.showResults,r=this.props,l=r.label,c=r.l10n,u=r.value,d=r.defaultTerm,h=s&&s.length,p=this.isTypeAheadFocused();C(u)&&C(i)&&p&&!d&&(0,g.liveAnnounce)(c.formatText("typeahead.announceResults.trigerLabel",l)),n.searchTerm===i&&!C(u)&&!1===this.keyPressed&&p&&(0,g.liveAnnounce)(c.formatText("typeahead.announceResults.showingResults",l,h,i)),n.searchTerm!==i&&o&&(this.setState({results:t.placeholder}),this.updateResultsDebounced(i)),this.focusInput()},t.prototype.handleFocus=function(){this.selectInput()},t.prototype.handleResultItemSelect=function(e,t,n){var a,i=this,s=this.props,o=s.adapter,r=s.isMulti,l=s.onResultItemSelect,c=s.label,u=s.l10n,d=this.state.searchTerm;return null===(a=o.onItemSelection)||void 0===a?void 0:a.call(o,t).then((function(t){r?i.setState({activeSuggestion:-1}):i.setState({activeSuggestion:-1,searchTerm:e,showResults:!1}),l(e,t);var a=n?(0,f.od)(n)-1:0;r&&(0,g.liveAnnounce)("".concat(u.formatText("typeahead.announceResults.itemSelected",e),"\n             ").concat(u.formatText("typeahead.announceResults.showingResults",c,a,d))),r||(setTimeout((function(){(0,g.liveAnnounce)("".concat(u.formatText("typeahead.announceResults.itemSelected",e)," \n            ").concat(u.formatText("typeahead.announceResults.menuClosed")))}),100),i.menuClosed())})).catch((function(){i.updateResults(e,!0,""!==e),i.menuClosed()}))},t.prototype.handleAnnounceResults=function(e){var t=this;this.typingTimeout&&clearTimeout(this.typingTimeout),(null==e?void 0:e.length)>0&&(this.typingTimeout=setTimeout((function(){t.announceResults(e)}),1e3))},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.activeSuggestion,a=t.searchTerm,i=this.props,s=i.value,o=i.l10n;this.keyPressed=!0;var r=(0,f.M3)(this.getResultsToShow(),Array.isArray(s)?s:[]),l=r&&(0,f.od)(r);this.keyPressed=!0;var c=a&&a.split("");if(c){var u="'".concat(c.join("' , '")," '");""!==a&&l>0&&(0,g.liveAnnounce)(o.formatText("typeahead.announceResults.resultsAvailable",u,l))}if("Enter"!==e.key&&38!==e.keyCode||e.preventDefault(),"Enter"===e.key){var d=(0,f.OS)(r,n);d?this.handleResultItemSelect(d.value,d.data,r):this.handleResultItemSelect(a,void 0,r)}},t.prototype.handleChange=function(e){var t=this.props.onInputChange;this.setState({searchTerm:e.target.value,showResults:!0},this.focusInput),""===e.target.value&&this.resetActiveSuggestion(),t&&t(e)},t.prototype.handleActiveSuggestion=function(e){var t=this.state,n=t.activeSuggestion,i=t.results,s=t.searchTerm,o=this.props.allowExactMatch&&s?1:0,r=i.length+o,l=0;e===a.UP?l=-1===n?r:r-1:e===a.DOWN&&(l=r+1);var c=(n+l)%r,u=(this.newAttr+l)%r;this.setState({activeSuggestion:this.newAttr>-1?u:c}),this.newAttr=-1},t.prototype.handleUpArrowKey=function(e){38===e.keyCode&&(e.preventDefault(),this.handleActiveSuggestion(a.UP))},t.prototype.handleDownArrowKey=function(e){40===e.keyCode&&(this.keyPressed=!0,this.handleActiveSuggestion(a.DOWN))},t.prototype.handleTabKey=function(e){if(9===e.keyCode||e.shiftKey&&9===e.keyCode){var t=e.target.parentElement.getAttribute("data-index");this.newAttr=t?Number(t):-1}},t.prototype.handleEscKey=function(e){27===e.keyCode&&this.onDismiss()},t.prototype.handleKeyDown=function(e){this.handleDownArrowKey(e),this.handleUpArrowKey(e),this.handleEscKey(e)},t.prototype.handleKeyUp=function(e){this.handleTabKey(e)},t.prototype.onDismiss=function(){var e=this.props,t=e.isMulti,n=e.onDismiss,a=e.l10n;this.keyPressed=!1,this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),n&&n(),t&&(0,g.liveAnnounce)(a.formatText("typeahead.announceResults.menuClosed"))},t.prototype.getResultsToShow=function(){var e=this.props.categorize,t=this.state,n=t.categorizedResults,a=t.results;return e||n&&n.length?{items:n,type:"categorized"}:{items:a,type:"uncategorized"}},t.getDerivedStateFromProps=function(e,t){var n=e.term===t.searchTerm||e.dialog?t.searchTerm:e.term;return e.isMulti?null:{searchTerm:n}},t.prototype.menuClosed=function(){var e=this.props,t=e.adapter,n=e.onDismiss;t&&"function"==typeof t.logTypeaheadDismiss&&t.logTypeaheadDismiss(),n&&n(),this.resetActiveSuggestion()},t.prototype.menuOpened=function(){var e=this.props.defaultTerm,t=this.state.searchTerm;this.resultsDomRef.current&&(this.resultsDomRef.current.scrollTop=0),this.selectInput(),this.updateResults(!t&&e?e:t,!1,""!==t)},t.prototype.announceResults=function(e){var t=this.state.searchTerm,n=this.props,a=n.l10n,i=n.label,s=n.defaultTerm,o=t&&t.split("");if(o){var r="'".concat(o.join("' , '")," '");e&&this.isTypeAheadFocused()&&(0,g.liveAnnounce)(a.formatText("typeahead.announceResults.resultsAvailable",r,e.length))}else s&&e&&this.isTypeAheadFocused()&&(0,g.liveAnnounce)(a.formatText("typeahead.announceResults.showingResultsDefault",i,e.length))},t.prototype.isCategorizedResult=function(e){return"heading"in e},t.prototype.updateResults=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var a,s,o,r,l,c,u,d,h,p,g,f,m,y=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return this.lastSearchTerm=e,a=this.props,s=a.adapter,o=a.categorize,r=a.defaultTerm,""!==(h=""===e?null!=r?r:"":e)&&t?o?[4,Promise.all([s.fetchResultsCategorized(h),s.fetchRecentSearchResultsCategorized()])]:[3,2]:[3,5];case 1:return p=i.sent(),[3,4];case 2:return[4,Promise.all([s.fetchResults(h),s.fetchRecentSearchResults()])];case 3:p=i.sent(),i.label=4;case 4:return u=(m=p)[0],(d=m[1])&&d.length>0?o||this.isCategorizedResult(d[0])?c=d:l=d:o?c=u:l=u,[3,11];case 5:return o?[4,s.fetchResultsCategorized(h)]:[3,7];case 6:return c=i.sent(),[3,11];case 7:return""!==h&&n?[4,s.fetchAlternativeResults(h)]:[3,9];case 8:return(g=i.sent())&&g.length&&this.isCategorizedResult(g[0])?c=g:l=g,[3,11];case 9:return[4,s.fetchResults(h)];case 10:(g=i.sent())&&g.length&&this.isCategorizedResult(g[0])?c=g:l=g,i.label=11;case 11:return this.lastSearchTerm!==e||(l&&l.length?(s.logSuggestionShown(t||n?"":e,l),this.setState({results:l,categorizedResults:[]},(function(){y.handleAnnounceResults(l)}))):c&&c.length?(s.logSuggestionShown(t||n?"":e,c),f=c.flatMap((function(e){return e.typeaheadResults})),this.setState({categorizedResults:c,results:f},(function(){y.handleAnnounceResults(l)}))):this.setState({results:[],categorizedResults:[]})),[2]}}))}))},t.prototype.selectInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.select&&e.current.select()},t.prototype.focusInput=function(){var e=this.toolbarInputRef;e&&e.current&&"function"==typeof e.current.focus&&(0,g.isElementVisible)(this.toolbarInputRef.current)&&e.current.focus()},t.prototype.resetActiveSuggestion=function(){this.setState({activeSuggestion:-1})},t.prototype.isTypeAheadFocused=function(){return this.toolbarInputRef.current===document.activeElement},t.prototype.render=function(){var e=this.props,t=e.allowExactMatch,n=e.children,a=e.dialog,i=e.stid,o=e.label,p=e.listTitle,g=e.placeholder,f=e.handleClear,v=e.emptyResultPlaceholder,T=e.dismissButtonText,C=e.value,I=e.isMulti,S=e.clearAllText,b=e.onClearAll,E=e.onItemRemove,A=e.selectedItemHeading,L=e.typeaheadInputRef,D=e.historyDetail,N=e.required,w=this.state,_=w.activeSuggestion,k=w.searchTerm,M=this.getResultsToShow();return s.createElement("div",{className:R("uitk-menu-typeahead-wrapper")},s.createElement("div",{className:R("uitk-typeahead-menu"),id:i&&"".concat(i,"-menu")},s.createElement("div",{className:R("uitk-menu-trigger")},n),s.createElement(u.U,{isVisible:a,openCallback:this.menuOpened},s.createElement(d.K,{autoFocus:!1,type:"popover",className:R("uitk-typeahead-menu-container",{"is-multi":I}),disableArrowKeyHandler:!0,isVisible:a,onDismiss:this.menuClosed,triggerRef:L,showOverTrigger:!0,autoPosition:!1},s.createElement(l.v,{direction:"column",blockSize:"full_size"},s.createElement(c.t,null,s.createElement("div",{className:R("uitk-typeahead-input-wrapper")},s.createElement(m.p,{className:R("uitk-typeahead-input-v2"),"data-stid":i&&"".concat(i,"-menu-input"),domRef:this.toolbarInputRef,handleClear:f,hasClearButton:k.length>0,hasFloatedLabel:!1,hasVisibleLabel:!1,id:i,label:o,onChange:this.handleChange,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:g,required:N,value:k}))),s.createElement(c.t,null,s.createElement(h.z,{className:R("uitk-typeahead-menu-content"),padded:!1},s.createElement(y.Z,{typeaheadLabel:o,allowExactMatch:t,onResultItemSelect:this.handleResultItemSelect,results:M,searchTerm:k,stid:i,listTitle:p,activeSuggestion:_,emptyResultPlaceholder:v,isMulti:I,dismissButtonText:T,selectedItemHeading:A,clearAllText:S,onClearAll:b,onItemRemove:E,value:C,domRef:this.resultsDomRef,historyDetail:D}))),I&&s.createElement(c.t,null,s.createElement(l.v,{justifyContent:"end",className:R("uitk-typeahead-menu-footer")},s.createElement(c.t,null,s.createElement(r.Y,{disabled:0===(null==C?void 0:C.length),onClick:this.onDismiss},T)))))))))},t.placeholder=[{disabled:!0,icon:"brightness_1",name:" ",value:" ",title:" "}],t}(s.Component),S=function(e){var t=(0,o.useLocalization)();return s.createElement(I,(0,i.__assign)({l10n:t},e))}},57828:function(e,t,n){n.d(t,{v:function(){return g}});var a=n(70655),i=n(67294),s=n(46605),o=n(37093),r=n(44896),l=n(13413),c=n(23984),u=n(91233),d=n(78474),h=n.n(d),p=o.classNames.bind(h()),g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=n.handleClick.bind(n),n}return(0,a.__extends)(t,e),t.prototype.handleClick=function(){var e=this.props,t=e.data;(0,e.onResultItemSelect)(e.value,t)},t.prototype.render=function(){var e,t,n,a,d=this.props,h=d.activeSuggestion,g=d.className,f=d.icon,m=d.index,y=d.name,v=d.stid,T=d.sanitized,R=d.subtext,C=d.contentRef,I=d.historyDetail,S=p(g,R?"uitk-typeahead-result-item has-subtext":"uitk-typeahead-result-item",!0===h&&"uitk-typeahead-result-item-hover");if(!0===h){var b=y.replace(/(<([^>]+)>)/gi,"");(0,o.liveAnnounce)("".concat(b),void 0,void 0,C)}var E="full-search-detail-".concat(I||!1);return T?n=i.createElement("span",null,y):(n=i.createElement("div",{className:p("truncate")},i.createElement("span",{dangerouslySetInnerHTML:{__html:y}})),R&&(a=i.createElement("div",{"data-stid":E,className:p("is-subText","truncate"),dangerouslySetInnerHTML:{__html:R}}))),f&&(t=i.createElement(s.fR,{name:f,size:s.eZ.SMALL})),e=R?"".concat(y," ").concat(R).replace(/(<([^>]+)>)/gi,""):null==y?void 0:y.replace(/(<([^>]+)>)/gi,""),i.createElement(r.v,{spacing:"relaxed",className:S,"data-stid":v&&"".concat(v,"-result-item"),"data-index":m},i.createElement(l.AE,{"data-stid":v&&"".concat(v,"-result-item-button"),onClick:this.handleClick,className:p(R&&"has-subtext","".concat(v,"-result-item-button"),"result-item-button"),"aria-label":e,type:"button",isFullWidth:!0}),i.createElement(c.v,null,i.createElement(u.t,{alignSelf:"center"},t),i.createElement(u.t,null,i.createElement("div",{className:p("uitk-typeahead-button-label","truncate")},n,a))))},t.displayName="UitkTypeaheadResultItem",t}(i.Component)},11119:function(e,t,n){n.d(t,{Z:function(){return I}});var a=n(29892),i=n(67294),s=n(23984),o=n(46605),r=n(44896),l=n(89362),c=n(30300),u=n(37093),d=n(93351),h=n(78987),p=n(42382),g=n(28868),f=n(45745),m=n(57828),y=n(99904),v=n(78474),T=n.n(v),R=u.classNames.bind(T()),C=function(e){var t=e&&e.data&&e.data.type===p.r.CURRENT_LOCATION;return R({"is-child":e.data&&e.isChild,"uitk-typeahead-current-location":t&&e.data.enabled,disabled:t&&!e.data.enabled})};function I(e){var t=e.activeSuggestion,n=e.allowExactMatch,u=e.listTitle,p=e.typeaheadLabel,v=e.onResultItemSelect,T=e.results,I=e.searchTerm,S=e.stid,b=e.emptyResultPlaceholder,E=e.isMulti,A=e.onClearAll,L=e.onItemRemove,D=e.clearAllText,N=e.selectedItemHeading,w=e.value,_=e.domRef,k=e.contentRef,M=e.historyDetail,x=(0,a.useLocalization)(),O=E?(0,g.M3)(T,w):T,P=(0,g.od)(O),z=E?"uitk-typeahead-multi-selection-results":"uitk-typeahead-results",U=function(){return E&&w.length>0?i.createElement(y.W,{typeaheadLabel:p,values:w,stid:S,clearAllText:D,onClear:A,onItemRemove:L,headingText:N,className:R("uitk-typeahead-results-selections")}):null};if(!T||0===T.items.length)return b?i.createElement(d.l,{padding:{blockstart:"three"}},i.createElement("div",null,U(),i.createElement(s.v,{justifyContent:"center",alignContent:"center",className:R("uitk-typeahead-empty-state")},i.createElement(c.b,{align:"center"},i.createElement(d.l,{margin:{blockstart:"six"}},i.createElement(o.fR,{name:"search",size:o.eZ.XLARGE})),i.createElement(d.l,{margin:{blockend:"three"}},i.createElement(c.b,{size:300},b)))))):i.createElement(d.l,{padding:{blockstart:"three"}},i.createElement("div",null,U()));function K(e,t){v(e,t,O)}var G=function(e){var t;return null===(t=e[0])||void 0===t?void 0:t.disabled},H=function(e){var t,n;return null===(n=null===(t=e[0])||void 0===t?void 0:t.typeaheadResults[0])||void 0===n?void 0:n.disabled},F=function(){return i.createElement("div",{className:R("uitk-typeahead-results-skeleton-container")},i.createElement(h.H,{className:R("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-first")}),i.createElement(h.H,{className:R("uitk-typeahead-results-skeleton","uitk-typeahead-results-skeleton-second")}),i.createElement(h.H,{className:R("uitk-typeahead-results-skeleton")}))};return i.createElement(d.l,{padding:{blockstart:"three"}},i.createElement("div",{className:R(z),ref:_},U(),i.createElement(l.D,{className:R("no-bullet"),"data-stid":S&&"".concat(S,"-results")},function(e){switch(e.type){case"categorized":return H(e.items)?F():(a=e.items)&&a.map((function(e){return i.createElement(i.Fragment,{key:e.heading},e.heading&&i.createElement(r.v,{spacing:"relaxed",className:R("uitk-typeahead-result-title")},i.createElement("div",{className:R("uitk-typeahead-result-title-label","truncate")},e.heading)),e.typeaheadResults&&e.typeaheadResults.map((function(e,n){var a;return i.createElement(m.v,{className:C(e),data:e.data,key:n,index:n,icon:e.icon,name:e.name,onResultItemSelect:K,stid:S,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===(null===(a=e.data)||void 0===a?void 0:a.index),historyDetail:M})})))}));case"uncategorized":return G(e.items)?F():(n=e.items)&&n.map((function(e,n){return i.createElement(i.Fragment,{key:n},u&&i.createElement(r.v,{spacing:"relaxed",className:R("uitk-typeahead-result-title")},i.createElement("div",{className:R("uitk-typeahead-result-title-label","truncate")},e.title)),i.createElement(m.v,{className:C(e),data:e.data,key:n,index:n,icon:e.icon,name:e.name,onResultItemSelect:K,stid:S,value:e.value,subtext:e.subtext,activeSuggestion:-1!==t&&t===n,contentRef:k,historyDetail:M}))}))}var n,a}(O),n&&I&&!function(e){switch(e.type){case"categorized":return H(e.items);case"uncategorized":return G(e.items)}}(O)&&i.createElement(m.v,{icon:"search",name:x.formatText("typeahead.searchFor",[I]),onResultItemSelect:K,index:P,stid:S,value:I,sanitized:!0,activeSuggestion:!(-1===t||t!==P),historyDetail:M})),i.createElement(f.W,{results:O})))}},99904:function(e,t,n){n.d(t,{W:function(){return h}});var a=n(67294),i=n(58850),s=n(8315),o=n(13413),r=n(37093),l=n(29892),c=n(78474),u=n.n(c),d=r.classNames.bind(u());function h(e){var t=e.headingText,n=e.hideHeading,c=void 0!==n&&n,u=e.typeaheadLabel,h=e.stid,p=void 0===h?"":h,g=e.values,f=void 0===g?[]:g,m=e.onItemRemove,y=void 0===m?function(){}:m,v=e.onClear,T=void 0===v?function(){}:v,R=e.clearAllText,C=e.className,I=(0,l.useLocalization)(),S=null!=R?R:I.formatText("typeahead.mulselect.clearAll"),b=null!=t?t:I.formatText("typeahead.multiselect.selectedItemHeading");return a.createElement("div",{className:d("uitk-typeahead-selections",C)},!c&&b&&f.length>0?a.createElement("div",{className:d("uitk-typeahead-result-title-label","truncate")},b):null,a.createElement("div",{className:d("uitk-typeahead-pills"),"data-stid":p},f.map((function(e,t){return a.createElement(i.p,{onClick:function(){return function(e,t){(0,r.liveAnnounce)(I.formatText("typeahead.removeSelection",e)),y(t)}(e,t)},id:"".concat(p,"-pill-").concat(t),key:"".concat(p,"-pill-").concat(t),className:d("uitk-spacing-margin-block-one")},e)})),f.length?a.createElement(s.m,{onClick:function(){(0,r.liveAnnounce)(I.formatText("typeahead.clearAllSelections",u)),T()},size:o.xY.SMALL},S):null))}},87220:function(e,t,n){n.d(t,{A:function(){return a},c:function(){return C}});var a,i=n(70655),s=n(29892),o=n(19633),r=n(67294),l=n(68369),c=n(54552),u=n(37093),d=n(42382),h=n(6239),p=n(36463),g=n(67252),f=n(99904),m=n(78474),y=n.n(m),v=u.classNames.bind(y()),T="typeahead.enteringInput";!function(e){e.MENU="menu",e.DIALOG="dialog",e.ADAPTIVE="adaptive"}(a||(a={}));var R=function(e){function t(t){var n=e.call(this,t)||this;return n.keyArray=[],n.state={dialog:!1,mounted:!1,searchTerm:"",startSearchTerm:""},t.isMulti&&!Array.isArray(t.value)&&console.warn("Use an array of values if set to isMulti"),n.typeaheadInputRef=r.createRef(),n.handleResultItemSelect=n.handleResultItemSelect.bind(n),n.dismissTypeahead=n.dismissTypeahead.bind(n),n.openTypeahead=n.openTypeahead.bind(n),n.renderDialog=n.renderDialog.bind(n),n.renderMenu=n.renderMenu.bind(n),n.handleClear=n.handleClear.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.focusTypeaheadInput=n.focusTypeaheadInput.bind(n),n.renderMenuTypeahead=n.renderMenuTypeahead.bind(n),n.renderDialogTypeahead=n.renderDialogTypeahead.bind(n),n.updateStartSearchTerm=n.updateStartSearchTerm.bind(n),n}return(0,i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n;return e.isMulti?(0,i.__assign)((0,i.__assign)({},t),{searchTerm:""}):e.value!==t.searchTerm?(0,i.__assign)((0,i.__assign)({},t),{searchTerm:null!==(n=e.value)&&void 0!==n?n:""}):null},t.prototype.componentDidMount=function(){var e=this.props,t=e.value,n=e.onMountCB,a=e.isMulti;Array.isArray(t)&&a&&this.setState({searchTerm:t.join(", ")}),this.setState({mounted:!0}),n&&n(this.typeaheadInputRef)},t.prototype.handleKeyPress=function(e,t){var n=e.keyCode||e.which,i=e.key;if(n>=65&&n<=90||n>=97&&n<=122){this.keyArray.push(i);var s=this.keyArray.join("");t===a.DIALOG&&this.updateStartSearchTerm(t,s)}},t.prototype.handleClear=function(){var e=this.props.handleClear;this.setState({searchTerm:""}),"function"==typeof e&&e()},t.prototype.handleResultItemSelect=function(e,t){var n,a=this.props,i=a.onUpdate,s=a.isMulti,o=a.onResultSelection,r=a.id;if(i&&i({term:e,data:t}),o){var l=new CustomEvent("change"),c=document.createElement("input");c.value=e,(t&&t.id||r)&&c.setAttribute("id",null!==(n=t.id)&&void 0!==n?n:r),c.addEventListener("change",(function(e){o(e)})),c.dispatchEvent(l)}s||(this.setState({searchTerm:e}),this.focusTypeaheadInput())},t.prototype.getAdapter=function(){var e=this.props,t=e.adapter,n=e.l10n;return t instanceof d.n&&t.setL10n(n),t},t.prototype.dismissTypeahead=function(e){var t=this.props.onDismiss,n=(0,u.isElementVisible)(this.typeaheadInputRef.current);"function"==typeof t&&t(e),this.setState({dialog:!1,startSearchTerm:""}),this.keyArray=[],this.typeaheadInputRef.current&&n&&this.typeaheadInputRef.current.focus()},t.prototype.updateStartSearchTerm=function(e,t){var n=this;this.setState({startSearchTerm:t},(function(){"dialog"===e&&n.openTypeahead(e)}))},t.prototype.openTypeahead=function(e){var t=this.props,n=t.adapter,i=t.onClick,s=this.state,o=s.dialog,r=s.searchTerm,l=o;e===a.MENU?l?this.dismissTypeahead(e):("function"==typeof i&&i(e),this.setState({dialog:!0}),setTimeout((function(){n.typeaheadDialogOpened(r)}))):e===a.DIALOG&&("function"==typeof i&&i(e),this.setState({dialog:!0}))},t.prototype.focusTypeaheadInput=function(){var e=this.props.l10n;(0,u.liveAnnounce)(e.formatText(T)),this.typeaheadInputRef.current&&this.typeaheadInputRef.current.focus()},t.prototype.renderMenu=function(){var e=this,t=this.props,n=t.allowExactMatch,a=t.label,s=t.listTitle,o=t.categorize,l=t.onInputChange,c=t.stid,u=t.typeaheadPlaceholder,d=t.typeaheadEmptyResultPlaceholder,h=t.value,p=t.isMulti,f=void 0!==p&&p,m=t.customTrigger,y=t.dismissButtonText,v=t.clearAllText,T=t.handleClear,R=t.onItemRemove,C=t.selectedItemHeading,I=t.l10n,S=t.defaultTerm,b=t.debounceRate,E=t.required,A={onDismiss:function(){e.dismissTypeahead("menu")}},L=this.state,D=L.dialog,N=L.searchTerm,w=this.getAdapter();return o&&w.setTypeaheadCategories(),r.createElement(g.j,(0,i.__assign)({},A,{isMulti:f,value:h,label:a,adapter:w,dialog:m&&m.showTypeahead||D,allowExactMatch:n,onInputChange:l,onResultItemSelect:this.handleResultItemSelect,stid:c,term:null!=N?N:S,placeholder:u,emptyResultPlaceholder:d,listTitle:s,categorize:o,handleClear:this.handleClear,clearAllText:v,onClearAll:T,dismissButtonText:null!=y?y:I.formatText("typeahead.multiselect.dismiss"),onItemRemove:R,selectedItemHeading:C,defaultTerm:S,debounceRate:b,typeaheadInputRef:this.typeaheadInputRef,historyDetail:w.isHistoryDetailEnabled(),required:E}))},t.prototype.renderDialog=function(){var e=this,t=this.props,n=t.allowExactMatch,s=t.id,o=t.label,l=t.listTitle,c=t.categorize,u=t.onInputChange,d=t.stid,p=t.typeaheadPlaceholder,g=t.typeaheadEmptyResultPlaceholder,f=t.customTrigger,m=t.defaultTerm,y=t.isMulti,v=void 0!==y&&y,T=t.clearAllText,R=t.handleClear,C=t.dismissButtonText,I=t.selectedItemHeading,S=t.onItemRemove,b=t.value,E=t.l10n,A=t.debounceRate,L=t.strictFullscreen,D=t.required,N=this.state,w=N.dialog,_=N.searchTerm,k=N.startSearchTerm,M=this.getAdapter();c&&M.setTypeaheadCategories();var x={onDismiss:function(){e.dismissTypeahead(a.DIALOG)}};return r.createElement(h.w,(0,i.__assign)({adapter:M,allowExactMatch:n,dialog:f&&f.showTypeahead||w,id:s,label:o},x,{onInputChange:u,onResultItemSelect:this.handleResultItemSelect,term:_,startSearchTerm:k,stid:d,placeholder:p,emptyResultPlaceholder:g,listTitle:l,categorize:c,handleClear:this.handleClear,defaultTerm:m,isMulti:v,clearAllText:T,onClearAll:R,dismissButtonText:null!=C?C:E.formatText("typeahead.multiselect.dismiss"),onItemRemove:S,selectedItemHeading:I,value:b,debounceRate:A,strictFullscreen:L,typeaheadInputRef:this.typeaheadInputRef,historyDetail:M.isHistoryDetailEnabled(),required:D}))},t.prototype.renderTrigger=function(e){var n=this,i=this.props,s=i.accessibilityLabel,o=i.analytics,d=i.icon,h=i.hasClearButton,g=i.hasVisibleLabel,f=i.invalid,m=i.label,y=i.name,T=i.placeholder,R=i.stid,C=i.customTrigger,I=i.children,S=i.isMulti,b=i.value,E=i.required,A=this.state,L=A.mounted,D=A.searchTerm,N=A.dialog,w=s||m,_="menu"===e?l.w:p.p;return C?I:r.createElement("div",null,L&&r.createElement(c.o,{"aria-label":[w,D].filter((function(e){return e&&e.length>0})).join(" "),"aria-expanded":N,icon:d,label:m,hasClearButton:h,handleClear:this.handleClear,"aria-describedby":f&&R?"".concat(R,"-input-error"):void 0,"data-stid":R&&e===a.MENU?"".concat(R,"-menu-trigger"):R&&"dialog"===e?"".concat(R,"-dialog-trigger"):"",domRef:this.typeaheadInputRef,onClick:function(){n.openTypeahead(e)},onKeyPress:function(t){n.handleKeyPress(t,e)},onClickCapture:o&&u.analyticsTracker.bind(this,o,""),placeholder:T,value:S?b.join(", "):b,invalid:f,required:E}),r.createElement(_,{className:v({"is-hidden":L}),icon:d,label:m,"data-stid":R&&"".concat(R,"-input"),domRef:this.typeaheadInputRef,hasClearButton:!1,hasVisibleLabel:g,name:y,onChange:t.defaultProps.onInputChange,placeholder:T,value:D,id:R&&"".concat(R,"-input"),required:E}))},t.prototype.renderMenuTypeahead=function(){var e=this.props,t=e.renderMenu,n=e.customTrigger,i=this.state.dialog,s=n&&n.showTypeahead||i;return t?t(this.renderMenu()):r.createElement(r.Fragment,null,r.createElement("div",{className:v("uitk-typeahead-menu-layer",{"uitk-typeahead-menu-layer-responsive":s,"is-hidden":!s})},this.renderMenu()),this.renderTrigger(a.MENU))},t.prototype.renderDialogTypeahead=function(){var e=this.props,t=e.renderDialog,n=e.customTrigger,i=this.state.dialog,s=n&&n.showTypeahead||i;return r.createElement(r.Fragment,null,t?i?t(this.renderDialog()):null:r.createElement("div",{className:v("uitk-typeahead-dialog-layer",{"uitk-typeahead-dialog-layer-responsive":s,"is-hidden":!s})},this.renderDialog()),this.renderTrigger(a.DIALOG))},t.prototype.render=function(){var e=this.props,t=e.renderType,n=e.stid,i=e.isMulti,s=e.value,l=e.onItemRemove,c=e.clearAllText,u=e.showPills,d=e.label;return r.createElement("div",{className:v("uitk-typeahead"),"data-stid":n},t===a.DIALOG?this.renderDialogTypeahead():t===a.MENU?this.renderMenuTypeahead():t===a.ADAPTIVE?r.createElement(o.Viewport,null,r.createElement(o.ViewSmall,null,this.renderDialogTypeahead()),r.createElement(o.ViewLarge,null,this.renderMenuTypeahead())):"",i&&u?r.createElement(f.W,{typeaheadLabel:d,hideHeading:!0,values:s,stid:n,onItemRemove:l,onClear:this.handleClear,clearAllText:c,className:v("uitk-spacing-margin-blockstart-three")}):null)},t.displayName="UitkTypeahead",t.defaultProps={hasClearButton:!1,onInputChange:function(){return null},renderType:a.ADAPTIVE,isMulti:!1},t}(r.Component),C=r.forwardRef((function(e,t){var n=(0,s.useLocalization)();return r.createElement(R,(0,i.__assign)({l10n:n,ref:t},e))}))}}]);
//# sourceMappingURL=node_modules~uitk-react-typeahead.4a5324b2a4288b1eb3a8.js.map